# Fly.io config for ecfoBooks
app = "ecfobooks"
primary_region = "sjc"  # San Jose â€” closest to Mountain View

[build]
  [build.args]
    RUBY_VERSION = "3.1.6"
    NODE_VERSION = "18"

[http_service]
  internal_port = 3000
  force_https = true
  auto_stop_machines = "stop"
  auto_start_machines = true
  min_machines_running = 0

[env]
  RAILS_ENV = "production"
  RAILS_LOG_TO_STDOUT = "true"
  RAILS_SERVE_STATIC_FILES = "true"
  PORT = "3000"
  PLAID_ENV = "sandbox"

[[statics]]
  guest_path = "/app/public"
  url_prefix = "/"
